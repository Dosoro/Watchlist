/* ==============================================================================
   EXTERNAL RESOURCES
   ============================================================================== */

/* Import Google Fonts - Roboto Mono for monospace styling */
@import url("https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap");

/* Import Tailwind CSS core */
@import "tailwindcss";

/* ==============================================================================
   VIEW TRANSITIONS
   ============================================================================== */

/* Smooth theme switching animations */
::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 0.4s;
}

/* Layer ordering for transitions */
::view-transition-old(root) {
  z-index: 1;
}

::view-transition-new(root) {
  z-index: 2;
}

/* ==============================================================================
   THEME TOKENS
   Semantic variables that Tailwind utilities reference
   ============================================================================== */

@theme {
  /* Semantic color mappings */
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-primary: hsl(var(--primary));
  --color-secondary: hsl(var(--secondary));
  --color-accent: hsl(var(--accent));

  /* Font families */
  --font-roboto: "Roboto Mono", monospace;

  /* Drop shadows */
  --shadow-card: 0 4px 8px -2px rgba(0, 0, 0, 0.25);
}

/* ==============================================================================
   BASE LAYER
   Global styles, CSS variables, and browser defaults
   ============================================================================== */

@layer base {
  /* ----------------------------------------------------------------------------
     COLOR DEFINITIONS
     Raw HSL values for light/dark themes
     ---------------------------------------------------------------------------- */

  /* Light mode palette */
  :root {
    --background: 39 44% 87%; /* Warm light gray background */
    --foreground: 37 17% 96%; /* Off-white surface color */
    --primary: 37 17% 25%; /* Dark text color */
    --secondary: 37 17% 55%; /* Muted text color */
    --accent: 21 87% 55%; /* Orange accent */
  }

  /* Dark mode palette */
  html.dark {
    --background: 220 15% 10%; /* Deep blue-gray background */
    --foreground: 220 15% 22%; /* Lighter surface color */
    --primary: 220 13% 95%; /* Light text color */
    --secondary: 220 13% 70%; /* Muted light text */
    --accent: 21 87% 55%; /* Orange accent (same) */
  }

  /* ----------------------------------------------------------------------------
     LAYOUT FUNDAMENTALS
     ---------------------------------------------------------------------------- */

  /* Full-height layout for root elements */
  html,
  body,
  #root {
    height: 100%;
  }

  /* Smooth scrolling with custom scrollbar */
  html {
    @apply scroll-smooth;
    scrollbar-color: hsl(var(--primary)) hsl(var(--background));
    scrollbar-width: thin;
  }

  /* ----------------------------------------------------------------------------
     THEME TRANSITION BEHAVIOR
     Smooth color changes when switching light/dark mode
     ---------------------------------------------------------------------------- */

  * {
    transition: background-color 0.3s ease, color 0.3s ease,
      border-color 0.3s ease, box-shadow 0.3s ease;
  }

  /* ----------------------------------------------------------------------------
     TYPOGRAPHY DEFAULTS
     ---------------------------------------------------------------------------- */

  /* Apply monospace font to all interactive elements */
  body,
  input,
  textarea,
  button {
    font-family: var(--font-roboto);
  }

  /* Default body styling */
  body {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

  /* ----------------------------------------------------------------------------
     CUSTOM SCROLLBARS (WebKit browsers)
     ---------------------------------------------------------------------------- */

  ::-webkit-scrollbar {
    width: 12px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--background));
  }

  ::-webkit-scrollbar-thumb {
    background-color: hsl(var(--primary));
    border-radius: 6px;
    border: 3px solid hsl(var(--background));
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--primary) / 0.8);
  }

  /* ----------------------------------------------------------------------------
     TEXT SELECTION STYLING
     ---------------------------------------------------------------------------- */

  ::selection {
    background-color: hsl(var(--accent) / 0.5);
    color: hsl(var(--secondary));
  }
}

/* ==============================================================================
   KEYFRAME ANIMATIONS
   Reusable animation definitions
   ============================================================================== */

/* Fade in with slight upward movement */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Scale up from 95% to 100% with fade */
@keyframes scale-up {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Continuous rotation */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* ==============================================================================
   COMPONENTS LAYER
   Reusable UI component classes
   ============================================================================== */

@layer components {
  /* ----------------------------------------------------------------------------
     LOGO COMPONENTS
     ---------------------------------------------------------------------------- */

  /* Large logo with hover lift effect */
  .logo-lg {
    @apply rounded-2xl bg-accent p-5 shadow-card 
           hover:-translate-y-1 hover:shadow-lg;
    transition: transform 0.2s ease, box-shadow 0.2s ease,
      background-color 0.3s ease;
  }

  /* Medium-sized logo */
  .logo-md {
    @apply rounded-lg bg-accent p-3 shadow-card;
  }

  /* ----------------------------------------------------------------------------
     CONTAINER COMPONENTS
     ---------------------------------------------------------------------------- */

  /* Form wrapper with max width */
  .form-box {
    @apply w-full max-w-xl rounded-2xl bg-foreground p-8 shadow-card;
  }

  /* Card with accent border on hover */
  .card-hover {
    @apply rounded-xl border-2 border-secondary/20 bg-foreground p-8 
           hover:border-accent hover:shadow-card;
    transition: border-color 0.2s ease, box-shadow 0.2s ease,
      background-color 0.3s ease;
  }

  /* Feature card with centered content */
  .feature-card {
    @apply flex flex-col items-center gap-4 rounded-xl 
           border-2 border-secondary/20 bg-foreground p-8 
           hover:border-accent hover:shadow-card;
    transition: border-color 0.2s ease, box-shadow 0.2s ease,
      background-color 0.3s ease;
  }

  /* ----------------------------------------------------------------------------
     FORM INPUTS
     ---------------------------------------------------------------------------- */

  /* Base input styling with focus ring */
  .input-base {
    @apply w-full rounded-lg bg-foreground px-4 py-3 text-primary 
           ring-2 ring-secondary 
           focus:outline-none focus:ring-accent;
    transition: background-color 0.3s ease, color 0.3s ease,
      box-shadow 0.15s ease;
  }

  /* Darker input background in dark mode */
  html.dark .input-base {
    @apply bg-foreground/80;
  }

  /* Input group wrapper */
  .input-wrapper {
    @apply space-y-2;
  }

  /* Input label styling */
  .label-input {
    @apply text-sm font-semibold text-primary;
  }

  /* ----------------------------------------------------------------------------
     ERROR MESSAGES
     ---------------------------------------------------------------------------- */

  /* Error alert box with left border accent */
  .error {
    @apply flex items-center gap-3 rounded-lg 
           border-l-4 border-red-500 
           bg-red-100 p-4 text-red-700;
  }

  /* Dark mode error styling */
  html.dark .error {
    @apply bg-red-900/30 border-red-600 text-red-400;
  }

  /* ----------------------------------------------------------------------------
     BUTTONS
     ---------------------------------------------------------------------------- */

  /* Primary action button with lift effect */
  .button-primary {
    @apply flex items-center gap-3 rounded-lg 
           bg-accent px-10 py-5 
           text-lg md:text-xl font-bold text-foreground 
           shadow-card 
           hover:-translate-y-1 hover:shadow-lg 
           justify-center 
           disabled:opacity-50 disabled:cursor-not-allowed;
    transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease,
      background-color 0.3s ease, color 0.3s ease;
  }

  /* Secondary button with border highlight on hover */
  .button-secondary {
    @apply flex items-center justify-center gap-2 rounded-lg 
           border-2 border-secondary/20 px-4 py-3 
           font-semibold text-primary 
           hover:border-accent hover:bg-foreground/50 hover:text-accent;
    transition: border-color 0.2s ease, background-color 0.3s ease,
      color 0.2s ease;
  }

  /* Danger/destructive action button */
  .button-danger {
    @apply flex items-center gap-3 rounded-lg 
           bg-red-500 px-8 py-4 
           text-lg font-bold text-white 
           shadow-card 
           hover:-translate-y-1 hover:shadow-lg;
    transition: transform 0.2s ease, box-shadow 0.2s ease,
      background-color 0.3s ease;
  }

  /* ----------------------------------------------------------------------------
     TYPOGRAPHY COMPONENTS
     ---------------------------------------------------------------------------- */

  /* Section heading */
  .section-title {
    @apply text-3xl font-bold text-primary;
  }

  /* Descriptive paragraph text */
  .description-text {
    @apply text-lg text-secondary;
  }

  /* ----------------------------------------------------------------------------
     ANIMATION UTILITIES
     ---------------------------------------------------------------------------- */

  /* Fade in animation */
  .animate-fade-in {
    animation: fade-in 0.5s ease-out forwards;
  }

  /* Scale up animation */
  .animate-scale-up {
    animation: scale-up 0.6s ease-out forwards;
  }

  /* Spinning loader animation */
  .animate-spin {
    animation: spin 1s linear infinite;
  }

  /* Page transition animation */
  .page-transition {
    animation: page-fade-in 0.3s ease-out;
  }
}

/* ==============================================================================
   UTILITIES LAYER
   Single-purpose utility classes
   ============================================================================== */

@layer utilities {
  /* Smooth width transitions */
  .transition-width {
    transition-property: width;
    transition-duration: 300ms;
    transition-timing-function: ease;
  }
}

/* ==============================================================================
   ACCESSIBILITY
   Respect user motion preferences
   ============================================================================== */

/* Disable all animations for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  /* Remove transitions and animations */
  *,
  *::before,
  *::after {
    transition: none !important;
    animation: none !important;
  }

  /* Disable specific animation classes */
  .animate-fade-in,
  .animate-scale-up,
  .animate-spin {
    animation: none !important;
  }
}
