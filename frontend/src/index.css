/* ======================================================
   Tailwind Core (v4)
   ====================================================== */
@import "tailwindcss";

/* ======================================================
   Theme Tokens (Semantic layer)
   Utilities consume THESE, not raw values
   ====================================================== */
@theme {
  /* Colors */
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-primary: hsl(var(--primary));
  --color-secondary: hsl(var(--secondary));
  --color-accent: hsl(var(--accent));

  /* Typography */
  --font-roboto: "Roboto Mono", monospace;

  /* Effects */
  --shadow-card: 0 4px 8px -2px rgba(0, 0, 0, 0.25);
}

/* ======================================================
   Base Layer
   Globals, tokens, browser behavior
   ====================================================== */
@layer base {

  /* --------------------------------------------------
     Raw Color Tokens (never use directly)
     -------------------------------------------------- */
  :root {
    --background: 39 44% 87%;
    --foreground: 37 17% 96%;
    --primary: 37 17% 25%;
    --secondary: 37 17% 55%;
    --accent: 21 87% 55%;
  }

  /* Dark mode - add to html.dark */
  html.dark {
    --background: 220 15% 10%;
    --foreground: 220 15% 22%;
    --primary: 220 13% 95%;
    --secondary: 220 13% 70%;
    --accent: 21 87% 55%;
  }

  /* --------------------------------------------------
     Document layout sanity
     -------------------------------------------------- */
  html,
  body,
  #root {
    height: 100%;
  }

  html {
    @apply scroll-smooth;
    scrollbar-color: hsl(var(--primary)) hsl(var(--background));
    scrollbar-width: thin;
  }

  /* --------------------------------------------------
     Typography defaults
     -------------------------------------------------- */
  body,
  input,
  textarea,
  button {
    font-family: var(--font-roboto);
  }

  body {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

  /* --------------------------------------------------
     Scrollbars (WebKit)
     -------------------------------------------------- */
  ::-webkit-scrollbar {
    width: 12px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--background));
  }

  ::-webkit-scrollbar-thumb {
    background-color: hsl(var(--primary));
    border-radius: 6px;
    border: 3px solid hsl(var(--background));
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--primary) / 0.8);
  }

  /* --------------------------------------------------
     Text selection
     -------------------------------------------------- */
  ::selection {
    background-color: hsl(var(--accent) / 0.5);
    color: hsl(var(--secondary));
  }
}

/* ======================================================
   Animations (keyframes only)
   ====================================================== */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }

  to {
    opacity: 0;
    transform: translateY(-10px);
  }
}

@keyframes scale-up {
  from {
    opacity: 0;
    transform: scale(0.95);
  }

  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slide-in {
  from {
    opacity: 0;
    transform: translateY(20px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ======================================================
   Component Layer
   Reusable UI patterns
   ====================================================== */
@layer components {
  .input-base {
    @apply w-full rounded-lg bg-foreground px-4 py-3 text-primary ring-2 ring-secondary transition focus:outline-none focus:ring-accent;
  }

  .error {
    @apply flex items-start gap-3 rounded-md border-l-4 border-red-500 bg-red-100 p-4 text-red-700;
  }

  .button-primary {
    @apply flex items-center gap-3 rounded-lg bg-accent px-10 py-5 text-lg md:text-xl font-bold text-foreground shadow-card transition hover:-translate-y-1 hover:shadow-lg justify-center;
  }

  .button-secondary {
    @apply flex items-center justify-center gap-2 rounded-lg border-2 border-secondary/20 px-4 py-3 font-semibold text-primary transition hover:border-accent hover:bg-foreground/50 hover:text-accent;
  }

  .feature-card {
    @apply flex flex-col items-center gap-4 rounded-xl border-2 border-secondary/20 bg-foreground p-8 transition hover:border-accent hover:shadow-card;
  }
}

/* ======================================================
   Utility Layer
   Atomic helpers only
   ====================================================== */
@layer utilities {
  .animate-fade-in {
    animation: fade-in 0.5s ease-out forwards;
  }

  .animate-fade-out {
    animation: fade-out 0.5s ease-in forwards;
  }

  .animate-scale-up {
    animation: scale-up 0.6s ease-out forwards;
  }

  .animate-slide-in {
    animation: slide-in 0.6s ease-out forwards;
  }

  .transition-width {
    transition-property: width;
    transition-duration: 300ms;
    transition-timing-function: ease;
  }
}

/* ======================================================
   Accessibility
   ====================================================== */
/*
@media (prefers-reduced-motion: reduce) {
  .animate-fade-in,
  .animate-fade-out,
  .animate-scale-up,
  .animate-slide-in {
    animation: none;
  }
}
*/